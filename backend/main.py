"""\nResumeRAG - AI-Powered Career Intelligence Platform\nMain FastAPI Application\n"""\n\nfrom fastapi import FastAPI, HTTPException\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\nimport uvicorn\nfrom contextlib import asynccontextmanager\n\n# Import routers (will be created later)\n# from api.routes import rag, agents, documents, auth\n\n__version__ = "0.1.0"\n\n\n@asynccontextmanager\nasync def lifespan(app: FastAPI):\n    """\n    Lifespan context manager for startup and shutdown events\n    """\n    # Startup\n    print("ðŸš€ Starting ResumeRAG API...")\n    # Initialize database connections, vector stores, etc.\n    yield\n    # Shutdown\n    print("ðŸ‘‹ Shutting down ResumeRAG API...")\n    # Cleanup resources\n\n\napp = FastAPI(\n    title="ResumeRAG API",\n    description="AI-Powered Career Intelligence Platform - RAG-based system for competitive exam prep & job search",\n    version=__version__,\n    lifespan=lifespan,\n    docs_url="/docs",\n    redoc_url="/redoc"\n)\n\n# Configure CORS\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=["*"],  # Configure appropriately for production\n    allow_credentials=True,\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\n\n@app.get("/")\nasync def root():\n    """\n    Root endpoint\n    """\n    return {\n        "message": "Welcome to ResumeRAG API",\n        "version": __version__,\n        "docs": "/docs",\n        "health": "/health"\n    }\n\n\n@app.get("/health")\nasync def health_check():\n    """\n    Health check endpoint\n    """\n    return {\n        "status": "healthy",\n        "version": __version__\n    }\n\n\n@app.get("/api/v1/info")\nasync def api_info():\n    """\n    API information\n    """\n    return {\n        "name": "ResumeRAG",\n        "version": __version__,\n        "description": "AI-Powered Career Intelligence Platform",\n        "features": [\n            "RAG-based document Q&A",\n            "Study Planner Agent",\n            "Resume Optimizer Agent",\n            "Interview Coach Agent",\n            "Current Affairs Agent"\n        ]\n    }\n\n\n# Exception handlers\n@app.exception_handler(HTTPException)\nasync def http_exception_handler(request, exc):\n    return JSONResponse(\n        status_code=exc.status_code,\n        content={\n            "error": exc.detail,\n            "status_code": exc.status_code\n        }\n    )\n\n\n@app.exception_handler(Exception)\nasync def general_exception_handler(request, exc):\n    return JSONResponse(\n        status_code=500,\n        content={\n            "error": "Internal server error",\n            "detail": str(exc)\n        }\n    )\n\n\nif __name__ == "__main__":\n    uvicorn.run(\n        "main:app",\n        host="0.0.0.0",\n        port=8000,\n        reload=True,\n        log_level="info"\n    )
